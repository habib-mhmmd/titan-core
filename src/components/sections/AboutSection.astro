---
// src/components/AboutSection.astro
import SkillCard from '@components/about/SkillCard.astro';
import profileImg from '../../assets/images/profile.png';
import profileImg2 from '../../assets/images/profile3.png';
import profileImg3 from '../../assets/images/profileSVG.svg';
import Button from '@components/ui/Button.astro';
import { FileText } from 'lucide-astro';
//import SkillAnimation from '@components/about/SkillAnimation.astro';    

const cvButton = {
    name: 'See My CV',
    link: '',
};

--- 

<section class="header-offset relative">
    <div class="absolute inset-0 left-0 top-0 w-full h-full hero-backgrounds"></div>
    <div class="site-container mx-auto px-4 pt-20 z-10">
        <div class="relative items-center justify-center mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-[2.75fr_2fr] md:gap-8 lg:gap-20 items-center justify-center">
                
                <div class="flex flex-col justify-center items-start gap-8">
                    <div>
                        <h3 class="text-body-base">Hello, I'm</h3>
                        <h1 class="text-body-base">
                            Muhammad Habib Al Hudry
                        </h1>
                        <p class="text-body-light text-base leading-[var(--leading-base)] mt-4 lg:mt-6">
                            Informatics graduate passionate about graphic design, UI/UX, and basic animation
                            using After Effects, Premiere Pro, Blender, and CLO3D. Skilled with creative tools
                            including Photoshop, Illustrator, Figma, and CorelDraw. Actively involved in
                            organizations and awarded 5th place in a national UI/UX competition. Ready to
                            contribute fresh ideas and collaborate in a dynamic team environment.
                        </p>
                    </div>

                    <div class= "flex flex-row justify-start items-start mt-0 md:mt-0 lg:mt-1 gap-6">

                            <Button href={cvButton.link} variant="secondary" size='lg'>
                                <FileText class="w-5 h-5" />
                                {cvButton.name}
                            </Button>
                    </div>
                </div>

                <div class="relative flex md:ml-0 lg:ml-20 h-full items-end justify-center">
                    <!-- Foto -->
                    <div class="hidden md:block aspect-[4/5] w-full md:max-w-[320px] lg:max-w-[360px] overflow-hidden justify-center">
                        <img 
                        src={profileImg3.src} 
                        alt="photo profile" 
                        class="w-full h-full object-cover rounded-lg grayscale hover:grayscale-0 transition duration-300"
                        />
                    </div>
                </div>

            </div>
        </div>
    </div>

</section>
<section class="site-container mx-auto px-4 py-20">

    <div class="marquee-container overflow-hidden">
        <!-- tetap pakai H4 supaya ukuran heading 4 dipertahankan -->
        <h4 class="marquee-content text-body-dark">
            <span class="hover:text-body-light transition-colors duration-300">Graphic Design</span>
            <span class="hover:text-body-light transition-colors duration-300">Digital Imaging</span>
            <span class="hover:text-body-light transition-colors duration-300">UI/UX Design</span>
            <span class="hover:text-body-light transition-colors duration-300">Motion Graphic</span>
            <span class="hover:text-body-light transition-colors duration-300">Animation</span>
            <span class="hover:text-body-light transition-colors duration-300">Video Editing</span>
        </h4>
    </div>

    <style>
        .marquee-container {
        width: 100%;
        position: relative;
        overflow: hidden;
        display: flex;         /* ini penting! clone sejajar */
        flex-wrap: nowrap;
        }

        .marquee-content{
        display: inline-flex;
        gap: 3rem;
        white-space: nowrap;
        align-items: center;
        will-change: transform;
        margin: 0;
        padding: 0;
        }

        .marquee-clone {
        display: inline-flex;
        gap: 3rem;
        white-space: nowrap;
        align-items: center;
        will-change: transform;
        margin-left: 3rem;
        padding: 0;
        }

        /* jangan set font-size di sini â€” biarkan H4 wariskan ukuran heading */
        /* .marquee-content span { color: var(--color-body-dark);} */
    </style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.querySelector('.marquee-container');
      if (!container) return;

      const marquee = container.querySelector('.marquee-content') as HTMLElement;
      if (!marquee) return;

      const clone = marquee.cloneNode(true) as HTMLElement;
      clone.classList.add('marquee-clone');
      container.appendChild(clone);

      let offset = 0;
      let isPaused = false;
      const speed = 0.6;

      function animate() {
        if (!isPaused && marquee) {
          offset -= speed;
          if (Math.abs(offset) >= marquee.scrollWidth) {
            offset += marquee.scrollWidth;
          }
          marquee.style.transform = `translateX(${offset}px)`;
          clone.style.transform = `translateX(${offset}px)`;
        }
        requestAnimationFrame(animate);
      }
      animate();

      container.addEventListener('mouseenter', () => { isPaused = true; });
      container.addEventListener('mouseleave', () => { isPaused = false; });
    });
  </script>
</section>

